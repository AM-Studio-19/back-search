<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>èˆŠå®¢è£œè‰²æŸ¥è©¢ | AM Beauty Studio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { corePlugins: { preflight: false } }
    </script>

    <style>
        /* --- å“ç‰Œè‰²èª¿ --- */
        :root {
            --primary: #D6BFA8;   /* å¥¶èŒ¶æ£• */
            --primary-dark: #C4A488;
            --secondary: #E6C2C2; /* ç«ç‘°ç²‰ */
            --text: #5A483F;      /* æ·±å’–å­— */
            --text-light: #8D7B72;
            --bg-color: #F9F8F6;  
            --card-shadow: 0 10px 30px -10px rgba(214, 191, 168, 0.4);
        }

        /* å…¨åŸŸè¨­å®š */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg-color);
            background-image: url('bg.jpg'); 
            background-size: cover;
            background-attachment: fixed;
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0; padding: 0;
            padding-bottom: 100px;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
        }

        /* --- é ‚éƒ¨ Header --- */
        .header-section {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; 
            padding: 40px 20px 60px 20px; 
            text-align: center; 
            border-radius: 0 0 40px 40px; 
            position: relative; 
            box-shadow: 0 10px 25px rgba(196, 164, 136, 0.4);
            margin-bottom: -40px;
        }
        
        .header-logo { font-size: 1.5rem; font-weight: 800; letter-spacing: 2px; margin: 0; }
        .header-sub { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; font-weight: 300; }

        .container { max-width: 600px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 10; }

        /* --- æŸ¥è©¢æ¡† --- */
        .search-card {
            background: #fff; border-radius: 24px; padding: 35px 25px;
            box-shadow: var(--card-shadow); text-align: center; 
            border: 1px solid rgba(255,255,255,0.8);
        }
        .search-icon-box {
            width: 70px; height: 70px; background: #FFF5F5;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            margin: 0 auto 20px auto; color: var(--secondary);
            font-size: 2rem; border: 4px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .search-title { font-size: 1.4rem; font-weight: 700; color: var(--text); margin: 0 0 5px 0; }
        .search-desc { font-size: 0.9rem; color: #999; margin-bottom: 25px; }

        .input-group { position: relative; margin-bottom: 20px; }
        .search-input {
            width: 100%; padding: 18px 20px 18px 50px; font-size: 1.1rem;
            border: 2px solid #eee; border-radius: 18px; background-color: #FAFAFA;
            outline: none; transition: 0.3s; color: var(--text);
        }
        .search-input:focus { background-color: #fff; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(214, 191, 168, 0.15); }
        .input-icon { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: #ccc; font-size: 1.2rem; }

        .btn-search {
            display: block; width: 100%; padding: 18px 0;
            background: linear-gradient(135deg, #E6C2C2 0%, #Dcb0b0 100%);
            color: #fff; border-radius: 18px; font-weight: 700; font-size: 1.1rem;
            cursor: pointer; border: none; letter-spacing: 1px;
            box-shadow: 0 8px 20px rgba(230, 194, 194, 0.4); transition: 0.3s;
        }
        .btn-search:active { transform: scale(0.98); box-shadow: 0 4px 10px rgba(230, 194, 194, 0.4); }
        .btn-search:disabled { opacity: 0.7; cursor: wait; }

        .notice-text { font-size: 0.85rem; color: #C17E7E; font-weight: bold; margin-top: 15px; background: #FFF0F0; padding: 10px; border-radius: 10px; display: inline-block; }

        /* --- æŸ¥è©¢çµæœå¡ç‰‡ --- */
        .result-container { margin-top: 30px; }
        .result-card {
            background: white; border-radius: 20px; padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.06); margin-bottom: 20px;
            border: 1px solid rgba(0,0,0,0.02); animation: slideUp 0.5s ease;
        }
        .result-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #f0f0f0; padding-bottom: 15px; }
        .result-name { font-size: 1.3rem; font-weight: 700; color: var(--text); }
        
        .info-badges { display: flex; gap: 10px; margin-bottom: 20px; }
        .info-badge { flex: 1; background: #F9F8F6; padding: 12px; border-radius: 12px; text-align: center; border: 1px solid #eee; }
        .info-label { display: block; font-size: 0.8rem; color: #999; margin-bottom: 4px; }
        .info-value { display: block; font-size: 1.1rem; font-weight: 700; color: var(--text); }
        .info-value.highlight { color: #C17E7E; }

        /* åƒ¹æ ¼é¡¯ç¤º */
        .price-box { 
            margin-top: 15px; padding: 15px; border-radius: 15px; 
            display: flex; justify-content: space-between; align-items: center; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.03); 
        }

        /* å±•é–‹æ”¶åˆ */
        .collapsible-content { transition: all 0.4s; max-height: 0; overflow: hidden; opacity: 0; }
        .collapsible-content.expanded { max-height: 1000px; opacity: 1; }
        
        /* è¨Šæ¯æç¤º */
        .msg-box { margin-top: 20px; padding: 15px; border-radius: 12px; font-size: 0.95rem; font-weight: bold; display: none; text-align: center; }
        .msg-error { background: #FEF2F2; color: #DC2626; border: 1px solid #FECACA; }
        .msg-success { background: #ECFDF5; color: #059669; border: 1px solid #A7F3D0; }

        /* æ‡¸æµ®é ç´„æŒ‰éˆ• */
        .floating-cta { 
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); 
            width: 85%; max-width: 350px; background: var(--text); color: white; 
            padding: 16px; border-radius: 50px; text-align: center; 
            text-decoration: none; font-weight: 700; font-size: 1.1rem; 
            box-shadow: 0 10px 25px rgba(90, 72, 63, 0.4); z-index: 950; 
            display: flex; align-items: center; justify-content: center; gap: 8px; 
            transition: 0.2s;
        }
        .floating-cta:active { transform: translateX(-50%) scale(0.96); }

        /* å‚™è¨»æ¨™ç±¤æ¨£å¼ */
        .range-label {
            display: inline-block; font-size: 0.75rem; background-color: var(--primary);
            color: white; padding: 2px 8px; border-radius: 4px; margin-bottom: 4px; font-weight: bold;
        }
        .range-label.free { background-color: #E6C2C2; }

        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    </style>
</head>
<body>

    <!-- Header -->
    <div class="header-section">
        <h1 class="header-logo">AM Beauty Studio</h1>
        <div class="header-sub">å°ˆå±¬è£œè‰²åƒ¹æ ¼æŸ¥è©¢ç³»çµ±</div>
    </div>

    <div class="container">
 <!-- æœå°‹å¡ç‰‡å€å¡Š -->
    <div class="bg-white p-6 rounded-2xl shadow-xl shadow-pink-100/50 mb-8 border border-white">
      <h2 class="text-2xl font-bold text-center mb-1 text-gray-800">éœ§çœ‰éœ§å”‡è£œè‰²åƒ¹æ ¼æŸ¥è©¢</h2>
      <p class="text-center text-gray-400 text-sm mb-6">è¼¸å…¥å§“åæˆ–é›»è©±è™Ÿç¢¼æŸ¥è©¢æ‚¨ç›®å‰çš„è£œè‰²åƒ¹æ ¼</p>
      
      <div class="relative">
        <input type="text" id="queryInput" placeholder="ä¾‹å¦‚ï¼šæ—å°ç¾ æˆ– 0912345678" 
               class="w-full p-4 pl-5 rounded-xl bg-gray-50 border border-gray-200 text-lg focus:outline-none focus:ring-2 focus:ring-pink-300 focus:bg-white transition-all placeholder-gray-400"
               onkeydown="if(event.key === 'Enter') searchRecord()">
      </div>

  <!-- ç«‹å³æŸ¥è©¢æŒ‰éˆ• (æ¸…æ–°è«è˜­è¿ªç²‰) -->
      <button onclick="searchRecord()" id="searchButton" 
              class="w-full mt-4 p-3.5 bg-gradient-to-r from-[#E4B1B7] to-[#D38E98] hover:from-[#D99CA3] hover:to-[#C07883] text-white font-bold rounded-xl text-lg shadow-lg shadow-pink-100 transition-all transform active:scale-95 flex justify-center items-center">
        <span>ç«‹å³æŸ¥è©¢</span>
        <svg id="loadingIndicator" class="hidden animate-spin h-5 w-5 text-white ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      </button>

     <!-- æŸ¥çœ‹è£œè‰²åƒ¹ç›®è¡¨æŒ‰éˆ• (ç°è‰²ç³»ï¼Œå”èª¿è«è˜­è¿ªç²‰) -->
      <button onclick="openImageModal()" 
              class="w-full mt-3 p-3 border-2 border-gray-200 text-gray-400 font-bold rounded-xl hover:bg-gray-50 hover:text-gray-600 hover:border-gray-300 transition-all flex justify-center items-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
        æŸ¥çœ‹è£œè‰²åƒ¹ç›®è¡¨
      </button>

      <div id="messageArea" class="hidden mt-4 text-center p-3 rounded-xl text-sm font-medium animate-pulse"></div>
    </div>

            <!-- è¨Šæ¯é¡¯ç¤º -->
            <div id="messageArea" class="msg-box"></div>
        </div>

        <!-- çµæœé¡¯ç¤ºå€ -->
        <div id="resultsArea" class="result-container"></div>
    </div>

    <!-- é ç´„æŒ‰éˆ• -->
    <a href="https://liff.line.me/1661306685-kQp9pya4" class="floating-cta">
        <span>ğŸ“… ç«‹å³é ç´„</span>
    </a>

    <!-- JavaScript é‚è¼¯ -->
    <script>
        const GAS_API_URL = "https://script.google.com/macros/s/AKfycbx6grwl5DidK6DScAaZLM8udp-Pjn_FrB33bv6ES0JkwAiiIx-xxJHicxANVGH7caSpEg/exec"; 

        function searchRecord() {
            let q = document.getElementById('queryInput').value.trim();
            if(!q) return showMessage('error', 'è«‹è¼¸å…¥å§“åæˆ–é›»è©±');
            
            // æ‰‹æ©Ÿè™Ÿå»0
            if (/^0\d+/.test(q)) q = q.substring(1);

            const btn = document.getElementById('searchButton');
            const area = document.getElementById('resultsArea');
            
            btn.textContent = 'è³‡æ–™æŸ¥è©¢ä¸­...'; btn.disabled = true; 
            area.innerHTML = '';
            document.getElementById('messageArea').style.display = 'none';

            fetch(`${GAS_API_URL}?q=${encodeURIComponent(q)}`)
                .then(response => response.json())
                .then(res => {
                    if (res.data && res.data.length > 0) {
                        // 1. æ’åº (æ—¥æœŸæ–°åˆ°èˆŠ)
                        const sortedData = res.data.sort((a, b) => new Date(b.lastDate) - new Date(a.lastDate));
                        // 2. éæ¿¾é‡è¤‡
                        const uniqueData = [];
                        const seenServices = new Set(); 
                        sortedData.forEach(item => {
                            const key = `${item.name}_${item.service}`;
                            if (!seenServices.has(key)) {
                                uniqueData.push(item);
                                seenServices.add(key);
                            }
                        });

                        if(uniqueData.length > 0) {
                            showMessage('success', `ğŸ‰ æŸ¥è©¢æˆåŠŸï¼æ‰¾åˆ° ${uniqueData.length} ç­†è³‡æ–™`);
                            area.innerHTML = uniqueData.map((r, i) => createCard(r, i)).join('');
                        } else {
                            showMessage('error', 'æŸ¥ç„¡ç›¸é—œè³‡æ–™');
                        }
                    } else {
                        showMessage('error', 'æŸ¥ç„¡è³‡æ–™ï¼Œè«‹ç¢ºèªè¼¸å…¥æ˜¯å¦æ­£ç¢º (æˆ–æ˜¯å˜—è©¦ç”¨å§“åæŸ¥è©¢)');
                    }
                })
                .catch(err => {
                    console.error(err);
                    showMessage('error', 'ç³»çµ±é€£ç·šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                })
                .finally(() => {
                    btn.textContent = 'ç«‹å³æŸ¥è©¢'; 
                    btn.disabled = false;
                });
        }

        function showMessage(type, text) {
            const el = document.getElementById('messageArea');
            el.textContent = text;
            el.className = `msg-box ${type === 'error' ? 'msg-error' : 'msg-success'}`;
            el.style.display = 'block';
        }

        // â—â—â— è«‹ç”¨é€™æ®µè¦†è“‹åŸæœ¬çš„ createCard å‡½å¼ â—â—â—
  function createCard(r, index) {
    const cid = `detail-${index}`;
    const customDate = r.customFreeDate;
    const eyebrowDate = r.eyebrowDiscountDate;
    const type = r.customerType || 'ä¸€èˆ¬å®¢æˆ¶';
    
    // =========== ç¶²å€è¨­å®šå€ ===========
    // 1. åœ¨ LINE è£¡é¢è¦é–‹çš„ç¶²å€ (åŸæœ¬çš„ç¥ç¾ LIFF)
    const LIFF_URL = "https://liff.line.me/1661306685-kQp9pya4";
    
    // 2. âš ï¸ åœ¨ LINE ä»¥å¤– (å¦‚ Chrome) è¦é–‹çš„ç¶²å€ (è«‹å¡«å…¥ä½ çš„ LINE å®˜æ–¹å¸³è™Ÿé€£çµ)
    // ä¾‹å¦‚ï¼š https://lin.ee/12345678
    const LINE_OA_URL = "https://lin.ee/ä½ çš„å®˜æ–¹å¸³è™ŸID"; 
    // =================================

    // è‡ªå‹•åµæ¸¬æ˜¯å¦åœ¨ LINE App å…§é–‹å•Ÿ
    const isLineApp = /Line/i.test(navigator.userAgent);
    
    // æ±ºå®šæœ€çµ‚è¦å»çš„ç¶²å€
    const finalUrl = isLineApp ? LIFF_URL : LINE_OA_URL;
    
    
    const isFreeValid = customDate && !checkIsExpired(customDate);
    const isEyebrowValid = eyebrowDate && !checkIsExpired(eyebrowDate);

    // è™•ç†é›»è©±éš±ç¢¼
    const maskedPhone = maskPhoneNumber(r.phone);

    let rangesHtml = (r.touchUpRanges || []).map(t => {
       const isFree = t.price === 0;
       return `
         <div class="flex justify-between items-center py-2 border-b border-dashed border-gray-200 last:border-0">
           <span class="text-sm ${isFree ? 'text-green-600 font-bold' : 'text-gray-600'}">${t.dateRange}</span>
           <span class="text-sm font-bold ${isFree ? 'bg-green-100 text-green-700 px-2 py-0.5 rounded' : 'text-gray-800'}">
             ${t.price === 0 ? 'å…è²»' : (t.price ? '$'+t.price : 'æ´½è©¢')}
           </span>
         </div>`;
    }).join('');

    return `
      <div class="bg-white rounded-2xl p-5 shadow-lg border border-gray-100 animate-enter" style="animation-delay: ${index * 100}ms">
        <!-- æ¨™é ­ -->
        <div class="flex items-center justify-between mb-3">
          <div>
            <h3 class="text-lg font-bold text-gray-800 flex flex-wrap items-center gap-2">
              ${r.name} 
              ${maskedPhone ? `<span class="text-sm font-normal text-gray-500">(${maskedPhone})</span>` : ''}
            </h3>
            <div class="flex items-center gap-2 mt-1">
                <span class="text-xs font-normal text-white bg-gray-400 px-2 py-0.5 rounded-full">${type}</span>
                <p class="text-sm text-pink-500 font-medium">${r.service}</p>
            </div>
          </div>
          <div class="text-right">
             <p class="text-xs text-gray-400">ä¸Šæ¬¡é ç´„</p>
             <p class="text-sm font-bold text-gray-600">${r.lastDate || 'ç„¡'}</p>
          </div>
        </div>

        <!-- ç‰¹æ®Šå¡ç‰‡å€ -->
        ${isFreeValid ? `
          <div class="mb-3 bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-3">
            <div class="bg-green-100 p-2 rounded-full text-green-600">ğŸ</div>
            <div>
              <p class="text-xs text-green-800 font-bold">å…è²»è£œè‰²åˆ°æœŸæ—¥</p>
              <p class="text-base font-black text-green-700">${customDate}</p>
            </div>
          </div>
        ` : ''}

        ${isEyebrowValid ? `
          <div class="mb-3 bg-orange-50 border border-orange-200 rounded-lg p-3 flex items-center gap-3">
            <div class="bg-orange-100 p-2 rounded-full text-orange-600">ğŸ”¥</div>
            <div>
              <p class="text-xs text-orange-800 font-bold">é¦–æ¬¡è£œè‰²å„ªæƒ æœŸé™</p>
              <p class="text-base font-black text-orange-700">${eyebrowDate}</p>
            </div>
          </div>
        ` : ''}

        <!-- ç›®å‰åƒ¹æ ¼ -->
        ${getPriceCardHtml(r.currentPriceInfo, isEyebrowValid)}

        <!-- é ç´„æŒ‰éˆ• (æœƒæ ¹æ“šç€è¦½å™¨è‡ªå‹•æ›ç¶²å€) -->
        <a href="${finalUrl}" class="block mt-4 w-full py-3 bg-[#06c755] hover:bg-[#05b34c] text-white font-bold rounded-xl text-center shadow-md transition flex justify-center items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
          ç«‹å³å‰å¾€é ç´„
        </a>

        <!-- ç‰¹åˆ¥æé†’ -->
        ${r.specialReminder ? `
            <div class="mt-4 bg-yellow-50 border border-yellow-200 text-yellow-800 p-3 rounded-xl flex items-start gap-3 shadow-sm">
              <span class="text-xl">ğŸ’¡</span>
              <div>
                <p class="font-bold text-sm">ç‰¹åˆ¥æé†’</p>
                <p class="text-sm leading-relaxed">${r.specialReminder}</p>
              </div>
            </div>
        ` : ''}

        <!-- æ‘ºç–Šå€å¡Šèˆ‡æŒ‰éˆ• -->
        <div class="mt-4">
          <button onclick="toggleCollapse(this, '${cid}')" 
                  class="group w-full py-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-xl text-gray-600 font-bold transition-all flex items-center justify-center gap-2 shadow-sm">
            <span class="btn-text group-hover:text-[#ff99aa] transition-colors">æŸ¥çœ‹å®Œæ•´åƒ¹ç›®è¡¨</span>
            <svg class="icon-arrow w-5 h-5 text-gray-400 group-hover:text-[#ff99aa] transition-transform duration-300 transform group-hover:translate-y-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
          </button>
          
          <div id="${cid}" class="collapsible-content bg-gray-50 rounded-xl px-4 mt-2">
            <div class="py-4 space-y-2">
              ${rangesHtml}
              <p class="text-[10px] text-gray-400 text-center mt-2 pt-2 border-t border-gray-200">ç³»çµ±è©¦ç®—åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›è²»ç”¨ä»¥ç¾å ´ç‹€æ³ç‚ºæº–</p>
            </div>
          </div>
        </div>
      </div>
    `;
  }
        function getPriceCardHtml(info, useOrange) { 
            if (!info) return ''; 
            let p = info.price===0 ? 'å…è²»' : (info.price ? `NT$ ${info.price}` : 'æ´½è©¢'); 
            let bg = info.price===0 ? 'bg-green-600' : (useOrange ? 'bg-orange-500' : 'bg-pink-500'); 
            let theme = info.price===0 ? 'bg-green-50 border-green-200' : (useOrange ? 'bg-orange-50 border-orange-200' : 'bg-pink-50 border-pink-200'); 
            let dateText = (info.dateRange || '').replace(/ã€.*?ã€‘/g, '');
            
            return `
            <div class="price-box border ${theme}">
                <div>
                    <h3 class="text-xs font-bold text-gray-400 mb-1">ç›®å‰è£œè‰²åƒ¹æ ¼</h3>
                    <p class="text-lg font-bold text-gray-800 tracking-wide">${dateText}</p>
                </div>
                <span class="px-4 py-2 text-white text-xl font-bold rounded-xl ${bg} shadow-md">${p}</span>
            </div>`; 
        }

        function checkIsExpired(d) { if(!d)return false; return new Date() > new Date(d); }
        function maskPhoneNumber(p) { if(!p)return''; let s=String(p).replace(/'/g,'').trim(); return s.length<8?s:s.substring(0,4)+'***'+s.substring(s.length-3); }
        function toggleCollapse(id, btn) { 
            const el = document.getElementById(id); 
            el.classList.toggle('expanded'); 
            btn.textContent = el.classList.contains('expanded') ? 'æ”¶èµ·å®Œæ•´åƒ¹ç›®è¡¨ â–²' : 'æŸ¥çœ‹å®Œæ•´åƒ¹ç›®è¡¨ â–¼'; 
            btn.style.background = el.classList.contains('expanded') ? '#eee' : '#F9F8F6';
        }
        // --- åƒ¹ç›®è¡¨å½ˆçª—æ§åˆ¶ ---
  function openImageModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»¾å‹•
  }

  function closeImageModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.add('hidden');
    document.body.style.overflow = ''; // æ¢å¾©èƒŒæ™¯æ»¾å‹•
  }
  
  // æŒ‰ä¸‹ ESC éµä¹Ÿå¯ä»¥é—œé–‰
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeImageModal();
  });
    </script>
    <!-- åƒ¹ç›®è¡¨å½ˆè·³è¦–çª— (Modal) -->
  <div id="imageModal" class="fixed inset-0 z-[100] hidden" role="dialog" aria-modal="true">
    <!-- é»‘è‰²èƒŒæ™¯é®ç½© (é»æ“ŠèƒŒæ™¯ä¹Ÿå¯é—œé–‰) -->
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" onclick="closeImageModal()"></div>
    
    <!-- åœ–ç‰‡å®¹å™¨ -->
    <div class="relative z-10 flex items-center justify-center min-h-screen p-4">
      <div class="relative bg-white rounded-lg shadow-2xl max-w-4xl w-full overflow-hidden animate-enter">
        <!-- é—œé–‰æŒ‰éˆ• -->
        <button onclick="closeImageModal()" class="absolute top-2 right-2 z-20 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        
        <!-- ä½ çš„åƒ¹ç›®è¡¨åœ–ç‰‡ -->
        <img src="https://i.postimg.cc/fR4VQ9Hh/jia-mu-biao-(2).jpg" 
             alt="å®Œæ•´åƒ¹ç›®è¡¨" class="w-full h-auto max-h-[85vh] object-contain mx-auto">
      </div>
    </div>
  </div>
</body>
</html>
